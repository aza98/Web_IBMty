name: Detect Server Path

on:
  workflow_dispatch:
jobs:
  detect-path:
    runs-on: ubuntu-latest

    steps:
    - name: Iniciar proceso
      run: echo "Iniciando detección de ruta en el servidor..."

    - name: Conectando al servidor por SSH y mostrando ruta
      uses: appleboy/ssh-action@v1.0.0
      with:
        host: ${{ secrets.FRPHOSTNAME }}
        username: ${{ secrets.FTPPASSWORD }}
        password: ${{ secrets.FTPUSERNAME }}
        port: 22
        script: |
          echo "======================================"
          echo " Ruta actual (pwd):"
          pwd
          echo "======================================"
          echo " Archivos y carpetas en esta ubicación:"
          ls -la
          echo "======================================"
          echo " Rutas adicionales de interés:"
          echo "- Intentando mostrar public_html..."
          if [ -d public_html ]; then
            echo "public_html existe dentro de esta ruta:"
            ls -la public_html
          else
            echo " No existe carpeta public_html aquí."
          fi
          echo "======================================"